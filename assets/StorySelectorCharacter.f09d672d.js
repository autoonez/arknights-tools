import{d as f,l as i,r as m,aG as _,_ as g,a3 as S,e as v,U as C,a4 as I,a as k,ab as y,o as l,c as B}from"./index.f80d835a.js";import{u as N}from"./CharacterStore.3e81d90d.js";import{u as O}from"./StoryReaderStore.23d00afa.js";import{u as V}from"./StoryTableStore.b65b92f2.js";import{O as $,C as L}from"./CharStorySetListDialog.9f10bd9e.js";import"./VCard.1b618f75.js";import"./router.d4300e84.js";import"./VDialog.20bd5a67.js";import"./forwardRefs.8b53ce2a.js";import"./VList.71bfc85e.js";import"./index.ae5e9ff3.js";const D=f({name:"StorySelectorCharacter",components:{OperatorCard:$,CharStorySetListDialog:L},setup(){const e=O(),a=_(),d=i(()=>e.language),o=m(!1),c=m(""),{getStorySetByCharacterId:p}=V(),{getOperators:n}=N(),s=i(()=>p()),t=n().filter(r=>s.value?r.id in s.value:!1);return{dialog:o,selectedCharacter:c,language:d,operators:t,selectCharacter:r=>{c.value=r,o.value=!0},selectStorySet:r=>{o.value=!1,a.push({name:"select-story",query:{storySetId:r}})}}}});const b={class:"character-container"};function R(e,a,d,o,c,p){const n=y("OperatorCard"),s=y("CharStorySetListDialog");return l(),S(C,null,[v("div",b,[(l(!0),S(C,null,I(e.operators,(t,u)=>(l(),B(n,{key:u,characterId:t.id,characterName:t.name[e.language]||t.appellation||t.name.zh_CN,onClick:h=>e.selectCharacter(t.id)},null,8,["characterId","characterName","onClick"]))),128))]),k(s,{modelValue:e.dialog,"onUpdate:modelValue":a[0]||(a[0]=t=>e.dialog=t),characterId:e.selectedCharacter,onSelectStorySet:e.selectStorySet},null,8,["modelValue","characterId","onSelectStorySet"])],64)}const J=g(D,[["render",R],["__scopeId","data-v-0cf76850"]]);export{J as default};

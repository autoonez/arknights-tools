import{n as Se,B as Oe,h as ke,u as De,s as Pe,i as Me,M as Ve,C as He}from"./router.753e3c43.js";import{e as Ie,f as C,z as V,T as ne,p as z,V as L,j as T,h as P,X as Ne,E as A,a7 as Z,a8 as I,aq as We,g as le,ar as G,an as N,as as qe,at as ze,au as je,x as $,av as ue,a0 as Ue,aw as Ye,W as Xe,ax as Ke,k as Ae,m as Ze,q as Ge,K as Je,n as Qe,ay as fe,az as et,O as tt,ag as nt,P as ot,F as at}from"./index.9343c9cb.js";import{p as ve,h as Q,i as ee,j as de,k as me}from"./VCard.8884702a.js";import{u as Ce}from"./tag.5404cb9c.js";class H{constructor(t){let{x:n,y:a,width:o,height:i}=t;this.x=n,this.y=a,this.width=o,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function he(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function Le(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),a=n.transform;if(a){let o,i,r,l,f;if(a.startsWith("matrix3d("))o=a.slice(9,-1).split(/, /),i=+o[0],r=+o[5],l=+o[12],f=+o[13];else if(a.startsWith("matrix("))o=a.slice(7,-1).split(/, /),i=+o[0],r=+o[3],l=+o[4],f=+o[5];else return new H(t);const u=n.transformOrigin,c=t.x-l-(1-i)*parseFloat(u),m=t.y-f-(1-r)*parseFloat(u.slice(u.indexOf(" ")+1)),y=i?t.width/i:e.offsetWidth+1,v=r?t.height/r:e.offsetHeight+1;return new H({x:c,y:m,width:y,height:v})}else return new H(t)}function Te(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const oe="cubic-bezier(0.4, 0, 0.2, 1)",it="cubic-bezier(0.0, 0, 0.2, 1)",rt="cubic-bezier(0.4, 0, 1, 1)";function lt(e){for(;e;){if(se(e))return e;e=e.parentElement}return document.scrollingElement}function X(e){const t=[];for(;e;)se(e)&&t.push(e),e=e.parentElement;return t}function se(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function st(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}const ct=Ie({name:"VDialogTransition",props:{target:Object},setup(e,t){let{slots:n}=t;const a={onBeforeEnter(o){o.style.pointerEvents="none",o.style.visibility="hidden"},async onEnter(o,i){var r;await new Promise(v=>requestAnimationFrame(v)),await new Promise(v=>requestAnimationFrame(v)),o.style.visibility="";const{x:l,y:f,sx:u,sy:c,speed:m}=ge(e.target,o),y=o.animate([{transform:`translate(${l}px, ${f}px) scale(${u}, ${c})`,opacity:0},{transform:""}],{duration:225*m,easing:it});(r=ye(o))==null||r.forEach(v=>{v.animate([{opacity:0},{opacity:0,offset:.33},{opacity:1}],{duration:225*2*m,easing:oe})}),y.finished.then(()=>i())},onAfterEnter(o){o.style.removeProperty("pointer-events")},onBeforeLeave(o){o.style.pointerEvents="none"},async onLeave(o,i){var r;await new Promise(v=>requestAnimationFrame(v));const{x:l,y:f,sx:u,sy:c,speed:m}=ge(e.target,o);o.animate([{transform:""},{transform:`translate(${l}px, ${f}px) scale(${u}, ${c})`,opacity:0}],{duration:125*m,easing:rt}).finished.then(()=>i()),(r=ye(o))==null||r.forEach(v=>{v.animate([{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*m,easing:oe})})},onAfterLeave(o){o.style.removeProperty("pointer-events")}};return()=>e.target?C(ne,V({name:"dialog-transition"},a,{css:!1}),n):C(ne,{name:"dialog-transition"},n)}});function ye(e){var t;const n=(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return n&&[...n]}function ge(e,t){const n=e.getBoundingClientRect(),a=Le(t),[o,i]=getComputedStyle(t).transformOrigin.split(" ").map(s=>parseFloat(s)),[r,l]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let f=n.left+n.width/2;r==="left"||l==="left"?f-=n.width/2:(r==="right"||l==="right")&&(f+=n.width/2);let u=n.top+n.height/2;r==="top"||l==="top"?u-=n.height/2:(r==="bottom"||l==="bottom")&&(u+=n.height/2);const c=n.width/a.width,m=n.height/a.height,y=Math.max(1,c,m),v=c/y,d=m/y,S=a.width*a.height/(window.innerWidth*window.innerHeight),x=S>.12?Math.min(1.5,(S-.12)*10+1):1;return{x:f-(o+a.left),y:u-(i+a.top),sx:v,sy:d,speed:x}}const ut=z({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function ft(e,t){const n={},a=o=>()=>{if(!L)return Promise.resolve(!0);const i=o==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(r=>{var l;const f=parseInt((l=e[o])!=null?l:0,10);n[o]=window.setTimeout(()=>{t==null||t(i),r(i)},f)})};return{runCloseDelay:a("closeDelay"),runOpenDelay:a("openDelay")}}const vt=Symbol.for("vuetify:v-menu"),dt=z({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...ut()});function mt(e,t){let{isActive:n,isTop:a}=t;const o=T();let i=!1,r=!1;const l=P(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),f=P(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!l.value),{runOpenDelay:u,runCloseDelay:c}=ft(e,s=>{s===(e.openOnHover&&i||l.value&&r)&&!(e.openOnHover&&n.value&&!a.value)&&(n.value=s)}),m={click:s=>{s.stopPropagation(),o.value=s.currentTarget||s.target,n.value=!n.value},mouseenter:s=>{i=!0,o.value=s.currentTarget||s.target,u()},mouseleave:s=>{i=!1,c()},focus:s=>{qe&&!s.target.matches(":focus-visible")||(r=!0,s.stopPropagation(),o.value=s.currentTarget||s.target,u())},blur:s=>{r=!1,s.stopPropagation(),c()}},y=P(()=>{const s={};return f.value&&(s.click=m.click),e.openOnHover&&(s.mouseenter=m.mouseenter,s.mouseleave=m.mouseleave),l.value&&(s.focus=m.focus,s.blur=m.blur),s}),v=P(()=>{const s={};if(e.openOnHover&&(s.mouseenter=()=>{i=!0,u()},s.mouseleave=()=>{i=!1,c()}),e.closeOnContentClick){const E=Ne(vt,null);s.click=()=>{n.value=!1,E==null||E.closeParents()}}return s});A(a,s=>{s&&e.openOnHover&&!i&&(n.value=!1)});const d=T();Z(()=>{!d.value||I(()=>{const s=d.value;o.value=We(s)?s.$el:s})});const S=le("useActivator");let x;return A(()=>!!e.activator,s=>{s&&L?(x=G(),x.run(()=>{ht(e,S,{activatorEl:o,activatorEvents:y})})):x&&x.stop()},{flush:"post",immediate:!0}),{activatorEl:o,activatorRef:d,activatorEvents:y,contentEvents:v}}function ht(e,t,n){let{activatorEl:a,activatorEvents:o}=n;A(()=>e.activator,(f,u)=>{if(u&&f!==u){const c=l(u);c&&r(c)}f&&I(()=>i())},{immediate:!0}),A(()=>e.activatorProps,()=>{i()}),N(()=>{r()});function i(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!f||(Object.entries(o.value).forEach(c=>{let[m,y]=c;f.addEventListener(m,y)}),Object.keys(u).forEach(c=>{u[c]==null?f.removeAttribute(c):f.setAttribute(c,u[c])}))}function r(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!f||(Object.entries(o.value).forEach(c=>{let[m,y]=c;f.removeEventListener(m,y)}),Object.keys(u).forEach(c=>{f.removeAttribute(c)}))}function l(){var f;let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator,c;if(u)if(u==="parent"){var m,y;let v=t==null||(m=t.proxy)==null||(y=m.$el)==null?void 0:y.parentNode;for(;v.hasAttribute("data-no-activator");)v=v.parentNode;c=v}else typeof u=="string"?c=document.querySelector(u):"$el"in u?c=u.$el:c=u;return a.value=((f=c)==null?void 0:f.nodeType)===Node.ELEMENT_NODE?c:null,a.value}}const yt=z({eager:Boolean},"lazy");function gt(e,t){const n=T(!1),a=P(()=>n.value||e.eager||t.value);A(t,()=>n.value=!0);function o(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:a,onAfterLeave:o}}function te(e,t){return{x:e.x+t.x,y:e.y+t.y}}function pt(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pe(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:a}=e,o=a==="left"?0:a==="center"?t.width/2:a==="right"?t.width:a,i=n==="top"?0:n==="bottom"?t.height:n;return te({x:o,y:i},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:a}=e,o=n==="left"?0:n==="right"?t.width:n,i=a==="top"?0:a==="center"?t.height/2:a==="bottom"?t.height:a;return te({x:o,y:i},t)}return te({x:t.width/2,y:t.height/2},t)}const Be={static:bt,connected:St},wt=z({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Be},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]});function xt(e,t){const n=T({}),a=T();let o;Z(async()=>{var r;(r=o)==null||r.stop(),a.value=void 0,L&&t.isActive.value&&e.locationStrategy&&(o=G(),await I(),o.run(()=>{if(typeof e.locationStrategy=="function"){var l;a.value=(l=e.locationStrategy(t,e,n))==null?void 0:l.updateLocation}else{var f;a.value=(f=Be[e.locationStrategy](t,e,n))==null?void 0:f.updateLocation}}))}),L&&window.addEventListener("resize",i,{passive:!0}),N(()=>{var r;L&&window.removeEventListener("resize",i),a.value=void 0,(r=o)==null||r.stop()});function i(r){var l;(l=a.value)==null||l.call(a,r)}return{contentStyles:n,updateLocation:a}}function bt(){}function Et(e){const t=Le(e);return t.x-=parseFloat(e.style.left||0),t.y-=parseFloat(e.style.top||0),t}function St(e,t,n){const a=st(e.activatorEl.value);a&&Object.assign(n.value,{position:"fixed"});const{preferredAnchor:o,preferredOrigin:i}=ze(()=>{const v=ve(t.location,e.isRtl.value),d=t.origin==="overlap"?v:t.origin==="auto"?Q(v):ve(t.origin,e.isRtl.value);return v.side===d.side&&v.align===ee(d).align?{preferredAnchor:de(v),preferredOrigin:de(d)}:{preferredAnchor:v,preferredOrigin:d}}),[r,l,f,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(v=>P(()=>{const d=parseFloat(t[v]);return isNaN(d)?1/0:d})),c=P(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const v=t.offset.split(" ").map(parseFloat);return v.length<2&&v.push(0),v}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let m=!1;if(L){const v=new ResizeObserver(()=>{m&&y()});v.observe(e.activatorEl.value),v.observe(e.contentEl.value),N(()=>{v.disconnect()})}function y(){m=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>m=!0)});const v=e.activatorEl.value.getBoundingClientRect(),d=Et(e.contentEl.value),S=X(e.contentEl.value),x=12;S.length||(S.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(d.x+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),d.y+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const s=S.reduce((b,w)=>{const g=w.getBoundingClientRect(),p=new H({x:w===document.documentElement?0:g.x,y:w===document.documentElement?0:g.y,width:w.clientWidth,height:w.clientHeight});return b?new H({x:Math.max(b.left,p.left),y:Math.max(b.top,p.top),width:Math.min(b.right,p.right)-Math.max(b.left,p.left),height:Math.min(b.bottom,p.bottom)-Math.max(b.top,p.top)}):p},void 0);s.x+=x,s.y+=x,s.width-=x*2,s.height-=x*2;let E={anchor:o.value,origin:i.value};function j(b){const w=new H(d),g=pe(b.anchor,v),p=pe(b.origin,w);let{x:O,y:h}=pt(g,p);switch(b.anchor.side){case"top":h-=c.value[0];break;case"bottom":h+=c.value[0];break;case"left":O-=c.value[0];break;case"right":O+=c.value[0];break}switch(b.anchor.align){case"top":h-=c.value[1];break;case"bottom":h+=c.value[1];break;case"left":O-=c.value[1];break;case"right":O+=c.value[1];break}return w.x+=O,w.y+=h,w.width=Math.min(w.width,f.value),w.height=Math.min(w.height,u.value),{overflows:he(w,s),x:O,y:h}}let R=0,_=0;const B={x:0,y:0},W={x:!1,y:!1};let U=-1;for(;;){if(U++>10){je("Infinite loop detected in connectedLocationStrategy");break}const{x:b,y:w,overflows:g}=j(E);R+=b,_+=w,d.x+=b,d.y+=w;{const p=me(E.anchor),O=g.x.before||g.x.after,h=g.y.before||g.y.after;let F=!1;if(["x","y"].forEach(k=>{if(k==="x"&&O&&!W.x||k==="y"&&h&&!W.y){const M={anchor:{...E.anchor},origin:{...E.origin}},ce=k==="x"?p==="y"?ee:Q:p==="y"?Q:ee;M.anchor=ce(M.anchor),M.origin=ce(M.origin);const{overflows:Y}=j(M);(Y[k].before<=g[k].before&&Y[k].after<=g[k].after||Y[k].before+Y[k].after<(g[k].before+g[k].after)/2)&&(E=M,F=W[k]=!0)}}),F)continue}g.x.before&&(R+=g.x.before,d.x+=g.x.before),g.x.after&&(R-=g.x.after,d.x-=g.x.after),g.y.before&&(_+=g.y.before,d.y+=g.y.before),g.y.after&&(_-=g.y.after,d.y-=g.y.after);{const p=he(d,s);B.x=s.width-p.x.before-p.x.after,B.y=s.height-p.y.before-p.y.after,R+=p.x.before,d.x+=p.x.before,_+=p.y.before,d.y+=p.y.before}break}const J=me(E.anchor);Object.assign(n.value,{"--v-overlay-anchor-origin":`${E.anchor.side} ${E.anchor.align}`,transformOrigin:`${E.origin.side} ${E.origin.align}`,top:$(we(_)),left:$(we(R)),minWidth:$(J==="y"?Math.min(r.value,v.width):r.value),maxWidth:$(xe(ue(B.x,r.value===1/0?0:r.value,f.value))),maxHeight:$(xe(ue(B.y,l.value===1/0?0:l.value,u.value)))})}return A(()=>[o.value,i.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>y(),{immediate:!a}),a&&I(()=>y()),requestAnimationFrame(()=>{n.value.maxHeight&&y()}),{updateLocation:y}}function we(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function xe(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let ae=!0;const K=[];function Ot(e){!ae||K.length?(K.push(e),ie()):(ae=!1,e(),ie())}let be=-1;function ie(){cancelAnimationFrame(be),be=requestAnimationFrame(()=>{const e=K.shift();e&&e(),K.length?ie():ae=!0})}const re={none:null,close:At,block:Ct,reposition:Lt},kt=z({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in re}});function Pt(e,t){if(!L)return;let n;Z(async()=>{var a;(a=n)==null||a.stop(),t.isActive.value&&e.scrollStrategy&&(n=G(),await I(),n.run(()=>{if(typeof e.scrollStrategy=="function")e.scrollStrategy(t);else{var o;(o=re[e.scrollStrategy])==null||o.call(re,t)}}))})}function At(e){var t;function n(a){e.isActive.value=!1}Fe((t=e.activatorEl.value)!=null?t:e.contentEl.value,n)}function Ct(e){var t;const n=[...new Set([...X(e.activatorEl.value),...X(e.contentEl.value)])].filter(i=>!i.classList.contains("v-overlay-scroll-blocked")),a=window.innerWidth-document.documentElement.offsetWidth,o=(i=>se(i)&&i)(((t=e.root.value)==null?void 0:t.offsetParent)||document.documentElement);o&&e.root.value.classList.add("v-overlay--scroll-blocked"),n.forEach((i,r)=>{i.style.setProperty("--v-body-scroll-x",$(-i.scrollLeft)),i.style.setProperty("--v-body-scroll-y",$(-i.scrollTop)),i.style.setProperty("--v-scrollbar-offset",$(a)),i.classList.add("v-overlay-scroll-blocked")}),N(()=>{n.forEach((i,r)=>{const l=parseFloat(i.style.getPropertyValue("--v-body-scroll-x")),f=parseFloat(i.style.getPropertyValue("--v-body-scroll-y"));i.style.removeProperty("--v-body-scroll-x"),i.style.removeProperty("--v-body-scroll-y"),i.style.removeProperty("--v-scrollbar-offset"),i.classList.remove("v-overlay-scroll-blocked"),i.scrollLeft=-l,i.scrollTop=-f}),o&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function Lt(e){var t;let n=!1,a=-1;function o(i){Ot(()=>{var r,l;const f=performance.now();(r=(l=e.updateLocation).value)==null||r.call(l,i),n=(performance.now()-f)/(1e3/60)>2})}Fe((t=e.activatorEl.value)!=null?t:e.contentEl.value,i=>{n?(cancelAnimationFrame(a),a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{o(i)})})):o(i)})}function Fe(e,t){const n=[document,...X(e)];n.forEach(a=>{a.addEventListener("scroll",t,{passive:!0})}),N(()=>{n.forEach(a=>{a.removeEventListener("scroll",t)})})}function _e(e,t){let n;A(e,a=>{if(a&&!n)n=G(),n.run(t);else{var o;(o=n)==null||o.stop(),n=void 0}},{immediate:!0})}const D=Ue([]);function Tt(e,t){const n=le("useStack"),a=T(+t.value);_e(e,()=>{var i;const r=(i=D[D.length-1])==null?void 0:i[1];a.value=r?r+10:+t.value,D.push([n,a.value]),N(()=>{const l=D.findIndex(f=>f[0]===n);D.splice(l,1)})});const o=T(!0);return Z(()=>{var i;const r=Ye((i=D[D.length-1])==null?void 0:i[0])===n;setTimeout(()=>o.value=r)}),{isTop:Xe(o),stackStyles:P(()=>({zIndex:a.value}))}}function q(e){return{teleportTarget:P(()=>{const n=e.value;if(n===!0||!L)return;const a=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(a==null){Ke(`Unable to locate target ${n}`);return}if(!q.cache.has(a)){const o=document.createElement("div");o.className="v-overlay-container",a.appendChild(o),q.cache.set(a,o)}return q.cache.get(a)})}}q.cache=new WeakMap;function Bt(){return!0}function $e(e,t,n){if(!e||Re(e,n)===!1)return!1;const a=Te(t);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===e.target)return!1;const o=(typeof n.value=="object"&&n.value.include||(()=>[]))();return o.push(t),!o.some(i=>i==null?void 0:i.contains(e.target))}function Re(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Bt)(e)}function Ft(e,t,n){const a=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&$e(e,t,n)&&setTimeout(()=>{Re(e,n)&&a&&a(e)},0)}function Ee(e,t){const n=Te(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const _t={mounted(e,t){const n=o=>Ft(o,e,t),a=o=>{e._clickOutside.lastMousedownWasOutside=$e(o,e,t)};Ee(e,o=>{o.addEventListener("click",n,!0),o.addEventListener("mousedown",a,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!0}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:a}},unmounted(e,t){!e._clickOutside||(Ee(e,n=>{var a;if(!n||!((a=e._clickOutside)!=null&&a[t.instance.$.uid]))return;const{onClick:o,onMousedown:i}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",o,!0),n.removeEventListener("mousedown",i,!0)}),delete e._clickOutside[t.instance.$.uid])}};function $t(e){const{modelValue:t,color:n,...a}=e;return C(ne,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&C("div",V({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},a),null)]})}const Rt=Ae()({name:"VOverlay",directives:{ClickOutside:_t},inheritAttrs:!1,props:{absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...dt(),...Se(),...yt(),...wt(),...kt(),...Ze(),...Oe()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:a,emit:o}=t;const i=ke(e,"modelValue"),r=P({get:()=>i.value,set:h=>{h&&e.disabled||(i.value=h)}}),{teleportTarget:l}=q(P(()=>e.attach||e.contained)),{themeClasses:f}=Ge(e),{rtlClasses:u,isRtl:c}=Je(),{hasContent:m,onAfterLeave:y}=gt(e,r),v=De(P(()=>typeof e.scrim=="string"?e.scrim:null)),{isTop:d,stackStyles:S}=Tt(r,Qe(e,"zIndex")),{activatorEl:x,activatorRef:s,activatorEvents:E,contentEvents:j}=mt(e,{isActive:r,isTop:d}),{dimensionStyles:R}=Pe(e);A(()=>e.disabled,h=>{h&&(r.value=!1)});const _=T(),B=T(),{contentStyles:W,updateLocation:U}=xt(e,{isRtl:c,contentEl:B,activatorEl:x,isActive:r});Pt(e,{root:_,contentEl:B,activatorEl:x,isActive:r,updateLocation:U});function J(h){o("click:outside",h),e.persistent?O():r.value=!1}function b(){return r.value&&d.value}L&&A(r,h=>{h?window.addEventListener("keydown",w):window.removeEventListener("keydown",w)},{immediate:!0});function w(h){h.key==="Escape"&&d.value&&(e.persistent?O():r.value=!1)}const g=Me();_e(()=>e.closeOnBack,()=>{He(g,h=>{d.value&&r.value?(h(!1),e.persistent?O():r.value=!1):h()})});const p=T();A(()=>r.value&&(e.absolute||e.contained)&&l.value==null,h=>{if(h){const F=lt(_.value);F&&F!==document.scrollingElement&&(p.value=F.scrollTop)}});function O(){var h;e.noClickAnimation||(h=B.value)==null||h.animate([{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:oe})}return Ce(()=>{var h,F;return C(at,null,[(h=n.activator)==null?void 0:h.call(n,{isActive:r.value,props:V({ref:s},fe(E.value),e.activatorProps)}),L&&C(et,{disabled:!l.value,to:l.value},{default:()=>[m.value&&C("div",V({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":r.value,"v-overlay--contained":e.contained},f.value,u.value],style:[S.value,{top:$(p.value)}],ref:_},a),[C($t,{color:v,modelValue:r.value&&!!e.scrim},null),C(Ve,{appear:!0,persisted:!0,transition:e.transition,target:x.value,onAfterLeave:()=>{y(),o("afterLeave")}},{default:()=>[tt(C("div",V({ref:B,class:["v-overlay__content",e.contentClass],style:[R.value,W.value]},fe(j.value),e.contentProps),[(F=n.default)==null?void 0:F.call(n,{isActive:r})]),[[nt,r.value],[ot("click-outside"),{handler:J,closeConditional:b,include:()=>[x.value]}]])]})])]})])}),{activatorEl:x,animateClick:O,contentEl:B,isTop:d,updateLocation:U}}});function Dt(){const t=le("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const Nt=Ae()({name:"VDialog",inheritAttrs:!1,props:{fullscreen:Boolean,origin:{type:String,default:"center center"},retainFocus:{type:Boolean,default:!0},scrollable:Boolean,modelValue:Boolean,...Se({width:"auto"}),...Oe({transition:{component:ct}})},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const o=ke(e,"modelValue"),{dimensionStyles:i}=Pe(e),{scopeId:r}=Dt(),l=T();function f(u){var c,m;const y=u.relatedTarget,v=u.target;if(y!==v&&(c=l.value)!=null&&c.contentEl&&(m=l.value)!=null&&m.isTop&&![document,l.value.contentEl].includes(v)&&!l.value.contentEl.contains(v)){const d=[...l.value.contentEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(s=>!s.hasAttribute("disabled"));if(!d.length)return;const S=d[0],x=d[d.length-1];y===S?x.focus():S.focus()}}return L&&A(()=>o.value&&e.retainFocus,u=>{u?document.addEventListener("focusin",f):document.removeEventListener("focusin",f)},{immediate:!0}),A(o,async u=>{if(await I(),u){var c;(c=l.value.contentEl)==null||c.focus({preventScroll:!0})}else{var m;(m=l.value.activatorEl)==null||m.focus({preventScroll:!0})}}),Ce(()=>C(Rt,V({modelValue:o.value,"onUpdate:modelValue":u=>o.value=u,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable}],style:i.value,transition:e.transition,ref:l,"aria-role":"dialog","aria-modal":"true",activatorProps:{"aria-haspopup":"dialog","aria-expanded":String(o.value)},"z-index":2400},r,n),{default:a.default,activator:a.activator})),{}}});export{Nt as V};

import{d as f,l as i,r as m,aG as _,_ as g,a3 as S,e as v,U as C,a4 as I,a as k,ab as y,o as l,c as B}from"./index.df28dd6e.js";import{u as N}from"./CharacterStore.7136e488.js";import{u as O}from"./StoryReaderStore.a088d0d1.js";import{u as V}from"./StoryTableStore.098de5f5.js";import{O as $,C as L}from"./CharStorySetListDialog.32b67252.js";import"./VCard.02cadcd2.js";import"./router.751d0875.js";import"./VDialog.5a556b8a.js";import"./forwardRefs.9edc86a2.js";import"./VList.8e40183d.js";import"./index.d545f964.js";const D=f({name:"StorySelectorCharacter",components:{OperatorCard:$,CharStorySetListDialog:L},setup(){const e=O(),a=_(),d=i(()=>e.language),o=m(!1),c=m(""),{getStorySetByCharacterId:p}=V(),{getOperators:n}=N(),s=i(()=>p()),t=n().filter(r=>s.value?r.id in s.value:!1);return{dialog:o,selectedCharacter:c,language:d,operators:t,selectCharacter:r=>{c.value=r,o.value=!0},selectStorySet:r=>{o.value=!1,a.push({name:"select-story",query:{storySetId:r}})}}}});const b={class:"character-container"};function R(e,a,d,o,c,p){const n=y("OperatorCard"),s=y("CharStorySetListDialog");return l(),S(C,null,[v("div",b,[(l(!0),S(C,null,I(e.operators,(t,u)=>(l(),B(n,{key:u,characterId:t.id,characterName:t.name[e.language]||t.appellation||t.name.zh_CN,onClick:h=>e.selectCharacter(t.id)},null,8,["characterId","characterName","onClick"]))),128))]),k(s,{modelValue:e.dialog,"onUpdate:modelValue":a[0]||(a[0]=t=>e.dialog=t),characterId:e.selectedCharacter,onSelectStorySet:e.selectStorySet},null,8,["modelValue","characterId","onSelectStorySet"])],64)}const J=g(D,[["render",R],["__scopeId","data-v-0cf76850"]]);export{J as default};
